<!DOCTYPE html>
<html>
    <head>
        <title>Backbone</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="/bower_components/underscore/underscore.js"></script>        
        <script src="/bower_components/backbone/backbone.js"></script>        
    </head>
    <body>
        <h1>Backbone!</h1>
        <div id="backbone-root"></div>
<script>
    var root = document.getElementById('backbone-root');
    var Chat = Backbone.Model.extend({});
    var ChatCollection = Backbone.Collection.extend({
        model: Chat
    });
    
    var chat = new Chat({message: 'Hey'});
    var collection = new ChatCollection([
        chat
    ]);
    
    collection.on('add change remove', function(model, value) {
        console.log(model);
    });
    
    chat.set({message: 'Hey again'});
    var added = collection.add({message: 'Another chat'});
    collection.add(chat);
    collection.remove(added);
    
//    chat.on('change', function(model) {
//        console.log(model);
//    });
//    
//    chat.on('change:message', function(model, value) {
//        console.log(model);
//        alert(value);
//    });
//    
//    chat.set({message: 'Hey again'});
</script>

    </body>
</html>
